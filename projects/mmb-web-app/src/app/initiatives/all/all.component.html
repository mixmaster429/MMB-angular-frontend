<mmb-web-app-experience-subbar (textSearchUpdated)="onSearchUpdated($event)"></mmb-web-app-experience-subbar>

<div class="row offset-lg-2 col-lg-8 py-4">
    <mmb-web-app-top-level-filters [entityType]="'initiative'" [filters]="filters"
        (filtersUpdated)="onFiltersUpdated($event)"></mmb-web-app-top-level-filters>
</div>

<div class="row offset-lg-2 col-lg-8 pb-4 px-3" ngClass.lt-md="mx-0">
    <div class="col-lg-4" fxLayout="row" fxLayoutAlign="start center">
        <div *ngIf="initiatives">Available <strong class="font-family-bold">{{ count }} Experiences</strong></div>   
     </div>
    <div class="col-lg-8" fxLayout="row" fxLayoutAlign="end center">
        <div fxHide.lt-md>
            <div [ngbTooltip]="'Coming soon'">Grid / List / Archived</div>
        </div>
    </div>
</div>

<div class="row offset-lg-2 col-lg-8 my-2 px-2 py-0" ngClass.lt-md="mx-0">
    <div class="px-5 py-0 w-100" infiniteScroll [infiniteScrollDistance]="5" [infiniteScrollThrottle]="150"
        (scrolled)="onScroll()">
        <div class="row" *ngIf="initiatives">
            <div class="col-lg-4 col-md-6 col-sm-12 px-2" *ngFor="let initiative of initiatives">
                <mmb-web-app-experience-card [experience]="initiative" (addBookmark)="onAddToFavorites(initiative)"
                    (removeBookmark)="onRemoveFromFavorites(initiative)">
                </mmb-web-app-experience-card>
            </div>
        </div>

        <div class="col-12 text-center py-2" *ngIf="isLoading">
            <mmb-ui-inline-loader text="More awesome initiatives will be with you in just a second..."
                i18n-text="Initiatives all inline loader text|Title for initiatives all inline loader text@@initiativesAllInlineLoaderText">
            </mmb-ui-inline-loader>
        </div>
    </div>
</div>